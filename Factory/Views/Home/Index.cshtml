@{
  Layout = "_Layout";
}
@using Factory.Models
<h1>Factory Tracker</h1>
<h4>Locations</h4>
@if (@Model.Count == 0)
{
  <p>There are no locations.</p>
}
@foreach (Location location in Model)
{
  <h5>@Html.ActionLink(@location.Name, "Details", "Locations", new { id = location.LocationId })</h5>
  <table>
    <thead>
      <tr>
        <th>Engineers</th>
      </tr>
    </thead>
    <tbody>
        @if (@Model.Engineers.Count == 0)
        {
          <td>There are no engineers.</td>
        }
        else
        {
          @foreach (Engineer engineer in Model.Engineers)
          {
            <tr>
              <td>@Html.ActionLink(@engineer.Name, "Details", "Engineers", new { id = engineer.EngineerId})</td>
            </tr>
          }
        }
    </tbody>
  </table>
  <table>
    <thead>
      <tr>
        <th>Machines</th>
      </tr>
    </thead>
    <tbody>
      @if (@Model.Engineers.Count == 0)
      {
        <td>There are no engineers.</td>
      }
      else
      {
        @foreach (Machine machine in Model.Machines)
        {
          <tr>
            <td>@Html.ActionLink(@machine.Name, "Details", "Machines", new { id = machine.MachineId})</td>
          </tr>
        }
      }
    </tbody>
  </table>
}